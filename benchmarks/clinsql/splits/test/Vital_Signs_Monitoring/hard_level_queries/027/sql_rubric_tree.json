{
  "id": "sql-query-evaluation-root",
  "requirements": "SQL Query Evaluation",
  "sequential": false,
  "sub_tasks": [
    {
      "id": "cohort-construction",
      "requirements": "Cohort Construction and Grouping",
      "weight": 3,
      "sequential": true,
      "sub_tasks": [
        {
          "id": "base-rrt-cohort-identification",
          "requirements": "Base RRT Cohort Identification: Correctly identifies all ICU stays associated with renal replacement therapy by filtering chartevents for specific RRT item IDs.",
          "sequential": false,
          "critical": false,
          "scoring": "1/0",
          "sub_tasks": []
        },
        {
          "id": "target-demographic-filtering",
          "requirements": "Target Demographic Filtering: Correctly filters for female patients aged between 58 and 68 using patient and icustays tables.",
          "sequential": false,
          "critical": false,
          "scoring": "1/0",
          "sub_tasks": []
        },
        {
          "id": "cohort-group-definition",
          "requirements": "Cohort Group Definition: Accurately partitions the base RRT cohort into two distinct groups: 'Target (Female, 58-68, with RRT)' and 'Control (All other RRT patients)' using inclusion/exclusion logic.",
          "sequential": false,
          "critical": false,
          "scoring": "1/0",
          "sub_tasks": []
        }
      ]
    },
    {
      "id": "medical-concept-implementation",
      "requirements": "Medical Concept Implementation",
      "weight": 2,
      "sequential": false,
      "sub_tasks": [
        {
          "id": "rrt-code-selection",
          "requirements": "RRT Code Selection: Utilizes a comprehensive list of item IDs for Renal Replacement Therapy (e.g., 225805, 225807, 224149) from the chartevents table.",
          "sequential": false,
          "critical": true,
          "scoring": "1/0",
          "sub_tasks": []
        },
        {
          "id": "vital-sign-code-selection",
          "requirements": "Vital Sign Code Selection: Correctly identifies item IDs for Mean Arterial Pressure (e.g., 220052, 220181) and Heart Rate (e.g., 220045).",
          "sequential": false,
          "critical": true,
          "scoring": "1/0",
          "sub_tasks": []
        }
      ]
    },
    {
      "id": "clinical-analytics",
      "requirements": "Clinical Analytics",
      "weight": 3,
      "sequential": true,
      "sub_tasks": [
        {
          "id": "hourly-vitals-aggregation",
          "requirements": "Hourly Vitals Aggregation: Correctly aggregates MAP and HR measurements into hourly averages per patient stay within the first 72 hours of the ICU stay.",
          "sequential": false,
          "critical": false,
          "scoring": "1/0",
          "sub_tasks": []
        },
        {
          "id": "vital-instability-index-calculation",
          "requirements": "Vital Instability Index Calculation: Implements the vital-instability index by averaging the sum of binary flags for concurrent hypotension (MAP<65) and tachycardia (HR>100) across hourly measurements.",
          "sequential": false,
          "critical": false,
          "scoring": "1/0",
          "sub_tasks": []
        },
        {
          "id": "instability-percentiles-calculation",
          "requirements": "Instability Percentiles Calculation: Correctly calculates the 25th, 50th, 75th, and 90th percentiles and the IQR of the vital-instability index using APPROX_QUANTILES.",
          "sequential": false,
          "critical": false,
          "scoring": "1/0",
          "sub_tasks": []
        },
        {
          "id": "comparative-metrics-calculation",
          "requirements": "Comparative Metrics Calculation: Calculates and averages the total hours of hypotension and tachycardia, ICU length of stay, and hospital mortality rate for comparison between the two cohorts.",
          "sequential": false,
          "critical": false,
          "scoring": "1/0",
          "sub_tasks": []
        }
      ]
    },
    {
      "id": "data-integration-and-filtering",
      "requirements": "Data Integration and Filtering",
      "weight": 2,
      "sequential": false,
      "sub_tasks": [
        {
          "id": "demographic-join-logic",
          "requirements": "Demographic Join Logic: Correctly joins icustays and patients tables on subject_id to link stay information with patient demographics for age and gender filtering.",
          "sequential": false,
          "critical": true,
          "scoring": "1/0",
          "sub_tasks": []
        },
        {
          "id": "temporal-filter",
          "requirements": "Temporal Filter: Accurately filters vital sign data to the first 72 hours of the ICU stay using DATETIME_DIFF between charttime and intime.",
          "sequential": false,
          "critical": true,
          "scoring": "1/0",
          "sub_tasks": []
        },
        {
          "id": "outcome-join-logic",
          "requirements": "Outcome Join Logic: Correctly joins icustays and admissions tables on hadm_id to retrieve hospital mortality and calculate ICU length of stay.",
          "sequential": false,
          "critical": false,
          "scoring": "1/0",
          "sub_tasks": []
        },
        {
          "id": "final-output-grouping",
          "requirements": "Final Output Grouping: The final SELECT statement correctly groups results by cohort_group to present the comparative analysis.",
          "sequential": false,
          "critical": false,
          "scoring": "1/0",
          "sub_tasks": []
        }
      ]
    }
  ]
}
